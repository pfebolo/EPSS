<div class="divSpinner" ng-show="cargando">
  <div class="spinner" />
</div>
<div class="alert alert-danger" ng-show="error.hayError">
  <p ng-repeat="error in error.errores">
    <strong>{{error.codigo}}:</strong><em>&nbsp;{{error.mensaje}}</em>
  </p>
</div>
<div ng-show="!GetOK">
  <div class="alert alert-warning" ng-show="!cargando">
    Los interesados no fueron obtenidos, intente nuevamente.
  </div>
</div>

<div ng-show="!cargando">
  <div class="col-md-5" ng-show="GetOK || cargando">
    <h2>Interesados&nbsp;
      <span class="badge">{{interesados.length}}</span>
        <i class="fa fa-plus-circle text-primary" aria-hidden="true" ng-click="irAcrearInteresado()" role="button"  data-toggle="tooltip" title="Dar de alta un nuevo interesado."></i>
    </h2>
    <div class="box-round">
      <div class="col-md-6">
        <div id="dtFechaFin" class="input-group date">
          <!--<span class="input-group-addon"><span class="glyphicon glyphicon-menu-left" ></span></span>-->
          <input class="form-control" type="text" readonly id="FechaFNI" ng-model="fechaFIN" ng-change="actualizarInteresados(fechaFIN)">
          <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
          <!--<span class="input-group-addon"><span class="glyphicon glyphicon-menu-right"></span></span>-->
        </div>
      </div>

      <div class="input-group">
        <span class="input-group-addon"><span class="glyphicon glyphicon-filter"></span></span>
        <input class="form-control" type="text" ng-model="interesadosFiltro" ng-change=reseleccionar(interesadosFiltro)>
      </div>
    </div>


    <script type="text/javascript">
      // $('#dtFechaIni').datetimepicker({
      //   language: 'es',
      //   todayBtn: 'linked',
      //   autoclose: true,
      //   todayHighlight: true,
      //   startView: 'month',
      //   forceParse: false,
      //   format: 'dd/mm/yyyy',
      //   minView: 'month'
      // });
      $('#dtFechaFin').datetimepicker({
        language: 'es',
        todayBtn: 'linked',
        autoclose: true,
        todayHighlight: true,
        startView: 'month',
        forceParse: false,
        format: 'dd/mm/yyyy',
        minView: 'month'
      })
    </script>


    <div style="max-height: 425px; overflow-y: auto;  overflow-x: auto;">
      <table class="table table-striped">
        <theader>
          <tr>
            <th class="col-md-8">Nombre</th>
            <th class="col-md-3">Fecha</th>
            <th class="col-md-1"><i class="fa fa-flag" aria-hidden="true"></i></th>
          </tr>
        </theader>
        <tbody ng-repeat="interesado in interesados | filter:interesadosFiltro | orderBy:'fechaInteresado':true">
          <tr ng-class="{'selected':$index==selectedRow}" ng-click="setClickedRow($index);cargarInteresado(interesado)" ng-init="reseleccionar(interesadosFiltro)">
            <td>{{interesado.apellido}},&nbsp;{{interesado.nombre}}</td>
            <td>{{interesado.fechaInteresado | date:'dd/MM/yyyy'}}</td>
            <td><i class="fa fa-flag banderin-danger" aria-hidden="true" ng-show="interesado.seguimiento"></i></td>
          </tr>
        </tbody>
       
      </table>
    </div>
  </div>
  <div class="col-md-7">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <div class="col-md-6">
          <h4>{{interesadoSeleccionado.apellido}},&nbsp{{interesadoSeleccionado.nombre}}</h4>
        </div>
        <div class="col-md-6">
          <h4 class="text-right">&nbsp{{interesadoSeleccionado.provincia}}</h4>
        </div>
        <p class="text-right">&nbsp</p>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <tbody>
            <tr>
              <td class="col-md-3">
                <span class="glyphicon glyphicon-send" aria-hidden="true" data-toggle="tooltip" title="E-Mail" />&nbsp{{interesadoSeleccionado.mail}}
              </td>
              <td class="col-md-3">
                <span class="glyphicon glyphicon-send" aria-hidden="true" />&nbsp{{interesadoSeleccionado.mail2}}
              </td>
            </tr>
            <tr>
              <td>
                <span class="glyphicon glyphicon-earphone" aria-hidden="true" data-toggle="tooltip"  title="N° de teléfono fijo (xx-xxxx-xxxx) o celular (xx-15-xxxx-xxxx)" />&nbsp{{interesadoSeleccionado.telefono}}
              </td>
              <td>
                <span class="glyphicon glyphicon-phone" aria-hidden="true" />&nbsp{{interesadoSeleccionado.celular}}
              </td>
            </tr>
            <tr>
              <td>
                <span class="glyphicon glyphicon-registration-mark" aria-hidden="true" data-toggle="tooltip" title="Modalidad de cursada" />&nbsp{{interesadoSeleccionado.modalidad.nombre}}{{interesadoSeleccionado.modalidadId===1 ? ',&nbsp'.concat(interesadoSeleccionado.turno) :  null }}
              </td>
              <td>
                <span class="glyphicon glyphicon glyphicon-sort" aria-hidden="true" data-toggle="tooltip" title="Grado de interés" />&nbsp{{interesadoSeleccionado.gradoInteres}}
              </td>
            </tr>
            <tr>
              <td>
                <i class="fa fa-calendar fa-fw" aria-hidden="true" data-toggle="tooltip" title="Año de inscripción"></i>&nbsp{{interesadoSeleccionado.anioAcursar}}{{interesadoSeleccionado.anioAcursar!==2 ? 'er' : 'do'}}&nbspAño.
              </td>
              <td>
                <i class="fa fa-calendar fa-fw" aria-hidden="true" data-toggle="tooltip" title="Cuatrimestre de inscripción"></i>&nbsp{{interesadoSeleccionado.nmestreAcursar}}{{interesadoSeleccionado.nmestreAcursar===1 ? 'er' : 'do'}}&nbspCuatrimestre.
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"  data-toggle="tooltip " title="¿Como conoció a la Escuela?" />&nbsp{{interesadoSeleccionado.comoConocio}}
              </td>
            </tr>
            <tr>
              <td>
                <span class="glyphicon glyphicon-info-sign" aria-hidden="true"  data-toggle="tooltip" title="Situación Particular" />&nbsp{{interesadoSeleccionado.situacionInscripcion}}
              </td>
              <td>
                <span class="glyphicon glyphicon-bell" aria-hidden="true" data-toggle="tooltip" title="Situación Especial" />&nbsp{{interesadoSeleccionado.situacionEspecial}}
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true" data-toggle="tooltip" title="Comentarios" />&nbsp{{interesadoSeleccionado.comentario}}
              </td>
            </tr>

          </tbody>
        </table>
      </div>
      <div class="panel-footer">
        <div class="col-md-8">
          Interesado el:&nbsp{{interesadoSeleccionado.fechaInteresado | date:'dd/MM/yyyy'}}
          <i class="fa fa-flag banderin-danger" aria-hidden="true" ng-show="interesadoSeleccionado.seguimiento"></i>
        </div>
        <button class="btn btn-primary" ng-click="irAEdicionInteresado(interesadoSeleccionado)">Edición</button>
        <button class="btn btn-primary" ng-click="irAinscripcion(interesadoSeleccionado)">Inscripción</button>
      </div>
    </div>
  </div>
</div>